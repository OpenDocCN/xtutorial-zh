# LINQ:查询语法与方法语法

> 原文：<https://csharp.net-tutorials.com/linq/linq-query-syntax-vs-method-syntax/>

在上一篇文章中，我们快速浏览了两种 LINQ 语法的外观，但是让我们把它们放在桌子上，紧挨着放在一起，这样你就能确定我们将在本文中讨论的内容:

```
 var listOfNames = new List<string>()
{
    "John Doe",
    "Jane Doe",
    "Jenna Doe",
    "Joe Doe"
};

// Query syntax
var qNames = from name in listOfNames where name.Length <= 8 select name;
// Method syntax
var mNames = listOfNames.Where(name => name.Length <= 8);
```

虽然这两行代码将完成完全相同的事情，但是语法上的差异是非常明显的:**查询语法**看起来更像其他查询语言，例如 SQL，而不像常规的 C#语句。另一方面，**方法语法**，看起来非常像你在本教程中看到的其他 C#代码。

因此，最大的区别肯定只是语法，因此，当你阅读 C#文章和寻找你可能有的问题的答案时，你会看到这两种变体。查询语法似乎更受欢迎，因为有些人觉得它比方法语法更容易阅读——这些人可能习惯于用 SQL 表达数据检索操作。另一方面，如果您以前从未使用过像 SQL 这样的查询语言，但是您有一些 C#经验，那么您可能会发现方法语法更容易阅读。此外，对于至少一些操作，比如对查询结果中的项目进行计数，您必须使用方法语法。

## λ表达式

在方法语法示例中，您可能会注意到一些以前没有见过的东西，作为`Where()`方法的参数。看起来是这样的:

<input type="hidden" name="IL_IN_ARTICLE">

```
name => name.Length <= 8
```

这被称为 Lambda 表达式，虽然它不是 LINQ 功能的一个特定部分，但它在 LINQ 世界中被大量使用。因此，在接下来的文章中，你也会经常看到它，虽然我将在另一篇文章中更详细地介绍 Lambda 表达式，但这是一个很好的机会来对它们的工作原理有一个非常基本的了解。

其实挺简单的。一个 Lambda 表达式有一个左侧和一个右侧，由 **= >** 运算符分开(不要与“大于或等于”运算符混淆，它看起来像这样:> =)。

在**左侧**，我们有输入参数——可以有几个，但是在我们的例子中，只有一个，那就是*名称*变量。在这种情况下，它来自`Where()`方法，来自对我们的名字列表的迭代，我们可以选择名字。我选择了“名字”，因为那是你会在名字列表中找到的，但你也可以称它为“x”、“z”、“foobar”或其他任何东西。

在**右侧**，我们有表达式/语句部分。这就是我们生成预期结果的地方——在本例中，一个布尔值告诉`where()`方法是否包含有问题的名称。我们用一个表达式来回答这个问题，说我们希望包含长度为 8 个(或更少)字符的名称。我们可以(但不要求)使用输入(左侧)来确定这一点。同样，我们称它为“name ”,但我们也可以称它为“x”——在这种情况下，语句应该是这样的:

```
var mNames = listOfNames.Where(x => x.Length <= 8);
```

Lambda 表达式不仅仅是关于 LINQ 查询，但是如前所述，当使用 LINQ 时，它们也很重要——您将在下一篇文章中看到这一点。如果你想了解更多关于 Lambda 表达式的知识，可以看看本教程中其他地方的内容。

## 摘要

LINQ 有两种语法样式:查询和方法语法。它们可以做几乎相同的事情，但是尽管查询语法几乎是 C#中的一种新语言，方法语法看起来就像普通的 C#方法调用。在本教程中，**我们将主要使用方法语法**，当我们在下一篇文章中讨论 LINQ 所有可能的操作时。

* * *