# 环

> 原文:[https://php5-tutorial.com/basics/loops/](https://php5-tutorial.com/basics/loops/)

与任何其他编程语言一样，将一段代码重复 X 次的能力非常重要。这就是我们使用循环的目的，PHP 为我们提供了 4 种不同的循环机制。本章将介绍所有这些方法，并通过一个例子解释它们是如何工作的。

## while 循环

while 循环可能是所有循环中最简单的。只要代码块中的语句计算结果为 true，它就会重复代码块。一个例子可能是这样的:

```
<?php
$i = 0;
while($i < 5)
{
    echo $i."<br>";
    $i++;
}
?>
```

尝试运行这段代码。它将数到 4，因为我们继续，直到$i 不再小于 5。每次循环迭代时，我们将计数值$i 加 1，并输出当前值。无论您决定将什么放在 while 循环的括号之间，它都必须能够计算为布尔值，即 true 或 false。

## do-while 循环

<input type="hidden" name="IL_IN_ARTICLE">

这个循环的工作方式与 while 循环几乎完全一样，只有一个重要的区别:对于 while 循环，在进入循环之前检查语句——对于 do-while 循环，在迭代结束时检查语句。这意味着使用 do-while 循环，可以保证至少有一次迭代——对于常规的 while 循环，如果语句的计算结果永远不为真，则可能永远不会到达循环中的代码。下面是一个显示这种行为的示例:

```
<?php
$i = 0;
do
{
    echo $i."<br>";
    $i++;
} while($i < 0);
?>
```

使用常规的 while 循环，不会向用户打印任何东西，因为$i 是 0，因此在任何时候都不小于 0。然而，由于这是一个 do-while 循环，我们可以免费获得一次迭代。之后，PHP 意识到该语句的计算结果不为真，并退出循环。

## for 循环

PHP 中最常见的循环之一是 for 循环，您可能会从其他编程语言中认出它。它看起来会比 while 循环复杂一点，但是经过一点练习，你可能会更喜欢它。下面是一个使用 for 循环的示例:

```
<?php
for($i = 0; $i < 5; $i++)
{
    echo $i."<br />";
}
?>
```

这将产生与前一个 while 循环完全相同的输出，但是正如您所看到的，我们使用了更少的代码行。计数器变量在同一行中被初始化、测试和递增:首先我们声明它并给它赋值，然后我们编写语句进行求值，然后我们增加(或者减少，当然也是可能的)变量。每个部分用分号分隔。for 循环很好，很紧凑，适用于所有希望跟踪迭代次数的情况。

## foreach 循环

PHP 中的 foreach 循环用于遍历数组。实际上，它只对数组起作用，如果你试图对一个未初始化的变量，或者一个不包含数组的变量使用它，PHP 会发出一个错误。foreach 循环有两种不同的风格——下面是第一种风格的一个例子。哦，由于数组还没有被引入，现在把它们想象成一个项目列表。在后面的章节中，我们将研究数组以及如何使用它们。

```
<?php
$animals = array("Dog", "Cat", "Snake", "Tiger");

foreach($animals as $animal)
    echo $animal . "<br />";
?>
```

foreach 循环的好处是它被设计成只处理数组，这反过来又使整个过程变得更容易。在每次迭代中，$animal 被赋予数组中当前位置的值，使我们可以轻松地访问它。这一小段代码将简单地输出数组中的项目(在本例中是动物)列表。

在这个版本的 foreach 循环中，我们只能访问循环的值。但是，数组中的每一项都由一个键和一个值组成。在我们的例子中，我们让 PHP 通过不显式设置键来自动分配它们。这在关于数组的章节中有详细的解释。如果您还需要访问迭代中当前项的键，请使用次级 foreach 构造，如下所示:

```
<?php
$animals = array(1 => "Dog", "Cat", "Snake",    "Tiger");

foreach($animals as $key => $value)
    echo "Animal number " . $key . " is a " . $value . "<br />";
?>
```

就这么简单。

* * *