# 高级断点

> 原文：<https://csharp.net-tutorials.com/debugging/advanced-breakpoints/>

在前一章中，我们设置了第一个断点，效果很好。然而，实际上断点不止于此，至少如果您使用的是 Visual Studio。不幸的是，似乎微软已经在他们的一些 Express 版本中禁用了这些额外的调试功能，但是不要担心:拥有它们当然很好，但是没有它们你也可以过下去。然而，对于那些能够访问 Visual Studio 的人来说，这里是最有趣的与断点相关的特性。您可以通过设置一个断点，用鼠标右键单击它，然后选择所需的功能来访问它们。

## 情况

此选项允许您指定一个条件，该条件必须为真或已更改，断点才会被命中。这在处理更高级的代码时非常有用，因为您希望只在某些情况下停止执行。例如，在到达相关代码之前，您可能有一个迭代了很多次的循环——在这种情况下，您可以简单地放置一个断点，然后配置一个适当的条件。这里有一个相当无聊的例子，它将向你展示它是如何工作的:

```
static void Main(string[] args)
{
    for(int i = 0; i < 10; i++)
        Console.WriteLine("i is " + i);
}
```

在我们输出到控制台的那一行设置一个断点。现在运行应用——每次循环迭代时都会触发断点。但也许这不是我们想要的。也许我们只希望它在 I 等于 4(第 5 次迭代)时被击中。通过定义这样一个简单的条件来实现:

i == 4

<input type="hidden" name="IL_IN_ARTICLE">

断点现在会有一个小的白色加号，当你运行程序时，它只会在 I 变量等于 4 时中断。您还可以使用“has changed”选项来指示调试器仅在上述语句的结果发生变化(例如从 false 变为 true)时暂停执行。

## 点击计数

使用此对话框，您可以根据断点被命中的次数来定义替代条件。例如，您可以决定断点不应该暂停执行，直到它被命中一定的次数。根据您的需要，有各种选项来控制这一点，并且在调试期间，您可以检查该对话框来查看到目前为止已经命中了多少次断点。

## 被击中时...

使用这个对话框，您可以定义当您的断点被命中时的替代行为。这在很多情况下会派上用场，在这些情况下，您不希望执行停止，而只是打印一条状态消息或激活一个宏。它允许您定义要打印的自定义消息，您可以在其中包含关于执行的各种信息。对于高级用户来说，在遇到断点时执行特定宏的选项也很有用。

* * *